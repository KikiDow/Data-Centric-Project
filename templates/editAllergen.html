{% extends 'base.html' %} {% block content %}
<!--
This page extends "base.html" and renders the allergen edit form which allows the user
to add or change information about the chosen allergen.
-->
<h2 class="center-align">Edit Allergen</h2>
<div class="row">
    <!-- Form that allows the user to edit the required information/data of the selected allergen. -->
    <form action="{{ url_for('update_allergen', allergen_id=the_allergen._id) }}" method="POST" class="col s12">
        <div class="row">
            <div class="col s1"></div>
            <div class="input-field col s10">
                <i class="material-icons prefix">poll</i>
                <input id="allergen_name" name="allergen_name" type="text" class="validate playfair" value="{{the_allergen.allergen_name}}" required>
                <label for="allergen_name" class="playfair">Allergen Name</label>
            </div>
            <div class="col s1"></div>
        </div>
        <div class="row">
            <div class="col s1"></div>
            <div class="input-field col s10">
                <i class="material-icons prefix">subject</i>
                <textarea name="allergen_description" id="allergen_description" class="materialize-textarea playfair" required>{{ the_allergen.allergen_description }}</textarea>
                <label for="icon_telephone" class="playfair">Allergen Description</label>
            </div>
            <div class="col s1"></div>
        </div>
        <!-- Submit button to update the information of the selected allergen in the database -->
        <div class="row center-align">
            <button data-target="modal2" class="modal-trigger btn waves-effect waves-light red playfair try-another-search">Make Changes
            <i class="material-icons right">playlist_add</i>
        </button>
        </div>
        <div id="modal2" class="modal">
            <div class="modal-content">
                <h4 class="playfair">Edit Allergen Information</h4>
                <p class="playfair">Are you sure you want to change the {{ the_allergen.allergen_name }} allergen information?</p>
            </div>
            <div class="modal-footer">
                <button class="modal-action modal-close btn waves-effect waves-light red playfair" type="submit" name="action">Yes</button>
                <a href="#!" class="modal-action modal-close waves-effect waves-light btn red playfair">No</a>
            </div>
        </div>
    </form>
</div>

{% endblock %}
